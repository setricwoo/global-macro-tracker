<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全球宏观事件追踪 | Global Macro Events Tracker</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Leaflet CSS - 类似CFR风格的交互式地图 -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <span class="logo-icon">🌐</span>
                <span class="logo-text">全球宏观事件追踪</span>
            </div>
            <nav class="nav-links">
                <a href="#" class="nav-link active">世界地图</a>
                <a href="#" class="nav-link">时间轴</a>
                <a href="#" class="nav-link">事件列表</a>
            </nav>
            <div class="header-right">
                <span class="update-time">最后更新: 2026-02-26 20:15</span>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="main-content">
        <!-- 左侧筛选面板 -->
        <aside class="filter-panel">
            <h3 class="panel-title">事件筛选</h3>

            <div class="filter-group">
                <label class="filter-label">事件类型</label>
                <div class="filter-options">
                    <label class="checkbox-item">
                        <input type="checkbox" checked data-type="geopolitical">
                        <span class="checkmark"></span>
                        <span class="checkbox-label">⚠️ 地缘冲突</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" checked data-type="central-bank">
                        <span class="checkmark"></span>
                        <span class="checkbox-label">🏦 央行会议</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" checked data-type="summit">
                        <span class="checkmark"></span>
                        <span class="checkbox-label">🤝 国际峰会</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" checked data-type="political">
                        <span class="checkmark"></span>
                        <span class="checkbox-label">🏛️ 政治选举</span>
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" checked data-type="trade">
                        <span class="checkmark"></span>
                        <span class="checkbox-label">📈 贸易协定</span>
                    </label>
                </div>
            </div>

            <div class="filter-group">
                <label class="filter-label">时间范围</label>
                <select class="filter-select" id="timeRangeSelect">
                    <option value="all">全部事件</option>
                    <option value="week">未来一周</option>
                    <option value="month">未来一月</option>
                    <option value="quarter">未来一季</option>
                </select>
            </div>

            <div class="filter-group">
                <label class="filter-label">重要程度</label>
                <div class="importance-filter">
                    <span class="importance-dot high active" data-importance="high" title="高"></span>
                    <span class="importance-dot medium active" data-importance="medium" title="中"></span>
                    <span class="importance-dot low active" data-importance="low" title="低"></span>
                </div>
            </div>

            <div class="quick-stats">
                <h4 class="stats-title">快速统计</h4>
                <div class="stat-item">
                    <span class="stat-label">本月事件</span>
                    <span class="stat-value" id="monthStat">24</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">高影响事件</span>
                    <span class="stat-value highlight" id="highStat">8</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">本周重点关注</span>
                    <span class="stat-value" id="weekStat">3</span>
                </div>
            </div>

            <!-- 未来一周关注模块 -->
            <div class="weekly-focus">
                <h4 class="focus-title">
                    <span class="focus-icon">📅</span>
                    未来一周关注
                </h4>
                <div class="focus-list" id="weeklyFocusList">
                    <!-- 动态生成 -->
                </div>
            </div>
        </aside>

        <!-- 中间地图区域 -->
        <section class="map-container">
            <div class="map-header">
                <h2 class="map-title">2026年全球重大事件分布</h2>
                <div class="map-controls">
                    <button class="control-btn" id="zoomIn" title="放大">+</button>
                    <button class="control-btn" id="zoomOut" title="缩小">−</button>
                    <button class="control-btn" id="resetView" title="重置">重置</button>
                </div>
            </div>

            <div class="map-wrapper" id="mapWrapper">
                <!-- Leaflet 交互式地图 - 类似CFR Global Conflict Tracker风格 -->
                <div id="worldMap" class="world-map"></div>
            </div>

            <!-- 图例 -->
            <div class="map-legend">
                <div class="legend-item">
                    <span class="legend-dot geopolitical"></span>
                    <span>地缘冲突</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot central-bank"></span>
                    <span>央行会议</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot summit"></span>
                    <span>国际峰会</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot political"></span>
                    <span>政治选举</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot trade"></span>
                    <span>贸易协定</span>
                </div>
                <div class="legend-item importance">
                    <span class="importance-indicator">
                        <span class="dot high"></span>
                        <span class="dot medium"></span>
                        <span class="dot low"></span>
                    </span>
                    <span>重要程度</span>
                </div>
            </div>
        </section>

        <!-- 右侧时间轴面板 -->
        <aside class="timeline-panel">
            <h3 class="panel-title">近期事件时间轴</h3>

            <div class="timeline" id="timeline">
                <!-- 时间轴项目动态生成 -->
            </div>
        </aside>
    </main>

    <!-- 事件详情弹窗 -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal" id="eventModal">
            <div class="modal-header">
                <div class="modal-header-top">
                    <span class="modal-event-type" id="modalEventType">央行会议</span>
                    <button class="modal-close" id="modalClose">&times;</button>
                </div>
                <h2 class="modal-title" id="modalTitle">美联储FOMC会议</h2>
                <div class="modal-meta">
                    <div class="meta-item">
                        <span class="meta-icon">📍</span>
                        <span id="modalLocation">美国华盛顿</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-icon">📅</span>
                        <span id="modalDate">2026年3月18-19日</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-icon">⚡</span>
                        <span id="modalImportance">高影响</span>
                    </div>
                </div>
            </div>

            <!-- 子标签页导航 -->
            <div class="modal-tabs">
                <button class="tab-btn active" data-tab="overview">📋 概述</button>
                <button class="tab-btn" data-tab="timeline">📅 时间线</button>
                <button class="tab-btn" data-tab="outlook">🎯 前瞻</button>
                <button class="tab-btn" data-tab="news">📰 新闻</button>
                <button class="tab-btn" data-tab="other">📊 其他</button>
            </div>

            <div class="modal-body">
                <!-- 概述标签页 -->
                <div class="tab-content active" id="tab-overview">
                    <div class="modal-section">
                        <h3>事件概述</h3>
                        <p id="modalSummary">事件概述内容...</p>
                    </div>

                    <div class="modal-section">
                        <h3>影响分析</h3>
                        <div class="impact-grid" id="modalImpact">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                </div>

                <!-- 时间线标签页 -->
                <div class="tab-content" id="tab-timeline">
                    <div class="modal-section">
                        <h3>已发生事件</h3>
                        <div class="history-timeline" id="modalHistory">
                            <!-- 动态生成 -->
                        </div>
                    </div>

                    <div class="modal-section">
                        <h3>后续关注点</h3>
                        <div class="future-dates" id="modalFutureDates">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                </div>

                <!-- 前瞻标签页 -->
                <div class="tab-content" id="tab-outlook">
                    <div class="modal-section">
                        <h3>市场预期</h3>
                        <p id="modalOutlookExpectation">市场预期内容...</p>
                    </div>

                    <div class="modal-section">
                        <h3>关注要点</h3>
                        <ul id="modalKeyPoints">
                            <!-- 动态生成 -->
                        </ul>
                    </div>

                    <!-- 地缘冲突专属模块 -->
                    <div class="geopolitical-section" id="geopoliticalSection" style="display: none;">
                        <h3>⚠️ 地缘态势分析</h3>
                        <div class="geopolitical-content">
                            <div class="geo-status">
                                <span class="status-label">当前态势:</span>
                                <span class="status-value" id="geoStatus">紧张升级</span>
                            </div>
                            <div class="geo-factors">
                                <div class="factor-item">
                                    <span class="factor-title">关键因素</span>
                                    <ul id="geoKeyFactors">
                                        <!-- 动态生成 -->
                                    </ul>
                                </div>
                                <div class="factor-item">
                                    <span class="factor-title">市场影响</span>
                                    <ul id="geoMarketImpact">
                                        <!-- 动态生成 -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 新闻标签页 -->
                <div class="tab-content" id="tab-news">
                    <div class="modal-section">
                        <h3>新闻来源</h3>
                        <div class="news-links" id="modalNewsLinks">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                    <div class="modal-section">
                        <h3>相关报道</h3>
                        <div class="related-news" id="modalRelatedNews">
                            <p class="empty-hint">暂无相关报道</p>
                        </div>
                    </div>
                </div>

                <!-- 其他信息标签页 -->
                <div class="tab-content" id="tab-other">
                    <div class="modal-section">
                        <h3>背景信息</h3>
                        <div id="modalBackground">
                            <p class="empty-hint">暂无背景信息</p>
                        </div>
                    </div>
                    <div class="modal-section">
                        <h3>数据来源</h3>
                        <div id="modalDataSources">
                            <ul>
                                <li>路透社 (Reuters)</li>
                                <li>彭博社 (Bloomberg)</li>
                                <li>金融时报 (Financial Times)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="modal-section">
                        <h3>风险提示</h3>
                        <div class="risk-warning">
                            <p>本信息仅供参考，不构成投资建议。市场有风险，投资需谨慎。</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-secondary" id="btnAddWatch">⭐ 添加关注</button>
                <button class="btn-primary" id="btnExport">📄 导出报告</button>
            </div>
        </div>
    </div>

    <!-- Leaflet JS - 交互式地图库 -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="events-data.js"></script>
    <script src="app.js"></script>
</body>
</html>
